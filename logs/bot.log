2025-12-14 23:51:54.991 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-14 23:51:54.994 [MainThread] INFO __main__: Настройка меню команд...
2025-12-14 23:51:59.394 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-14 23:51:59.395 [MainThread] INFO __main__: Запуск long polling...
2025-12-14 23:53:34.072 [MainThread] ERROR TeleBot: Infinity polling exception: 'function' object does not support the context manager protocol
2025-12-14 23:53:34.074 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 154, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 10134, in _run_middlewares_and_handler
    result = handler['function'](message)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\main.py", line 375, in cmd_model
    active = set_active_model(int(arg))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\db.py", line 171, in set_active_model
    with _connect as conn:
TypeError: 'function' object does not support the context manager protocol

2025-12-14 23:53:47.542 [MainThread] ERROR TeleBot: Infinity polling exception: 'function' object does not support the context manager protocol
2025-12-14 23:53:47.544 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 154, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 10134, in _run_middlewares_and_handler
    result = handler['function'](message)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\main.py", line 375, in cmd_model
    active = set_active_model(int(arg))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\db.py", line 171, in set_active_model
    with _connect as conn:
TypeError: 'function' object does not support the context manager protocol

2025-12-14 23:54:17.557 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for deepseek/deepseek-chat-v3.1:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-14 23:56:28.666 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-14 23:56:28.667 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-14 23:56:29.838 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-14 23:56:29.842 [MainThread] INFO __main__: Настройка меню команд...
2025-12-14 23:56:30.872 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-14 23:56:30.873 [MainThread] INFO __main__: Запуск long polling...
2025-12-14 23:56:48.783 [WorkerThread1] ERROR __main__: Ошибка в /model при установке модели: 'function' object does not support the context manager protocol
2025-12-14 23:58:38.264 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-14 23:58:38.265 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-14 23:58:42.404 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-14 23:58:42.407 [MainThread] INFO __main__: Настройка меню команд...
2025-12-14 23:58:43.183 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-14 23:58:43.184 [MainThread] INFO __main__: Запуск long polling...
2025-12-15 00:00:15.029 [WorkerThread1] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for huggingfaceh4/zephyr-7b-beta:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:02:52.447 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-15 00:02:52.447 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-15 00:02:53.092 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-15 00:02:53.095 [MainThread] INFO __main__: Настройка меню команд...
2025-12-15 00:02:54.326 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-15 00:02:54.326 [MainThread] INFO __main__: Запуск long polling...
2025-12-15 00:03:11.779 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for huggingfaceh4/zephyr-7b-beta:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:04:21.264 [WorkerThread2] ERROR __main__: Ошибка в /model при установке модели: UNIQUE constraint failed: models.active
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 396, in cmd_model
    active = set_active_model(model_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\db.py", line 179, in set_active_model
    conn.execute("UPDATE models SET active=CASE WHEN id=? THEN 1 ELSE 0 END", (model_id,))
sqlite3.IntegrityError: UNIQUE constraint failed: models.active
2025-12-15 00:04:29.914 [WorkerThread2] ERROR __main__: Ошибка в /model при установке модели: UNIQUE constraint failed: models.active
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 396, in cmd_model
    active = set_active_model(model_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\db.py", line 179, in set_active_model
    conn.execute("UPDATE models SET active=CASE WHEN id=? THEN 1 ELSE 0 END", (model_id,))
sqlite3.IntegrityError: UNIQUE constraint failed: models.active
2025-12-15 00:04:33.219 [WorkerThread2] ERROR __main__: Ошибка в /model при установке модели: UNIQUE constraint failed: models.active
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 396, in cmd_model
    active = set_active_model(model_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\db.py", line 179, in set_active_model
    conn.execute("UPDATE models SET active=CASE WHEN id=? THEN 1 ELSE 0 END", (model_id,))
sqlite3.IntegrityError: UNIQUE constraint failed: models.active
2025-12-15 00:08:03.232 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-15 00:08:03.233 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-15 00:08:03.837 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-15 00:08:03.840 [MainThread] INFO __main__: Настройка меню команд...
2025-12-15 00:08:05.058 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-15 00:08:05.059 [MainThread] INFO __main__: Запуск long polling...
2025-12-15 00:08:21.648 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for nousresearch/nous-hermes-2-mixtral-8x7b-dpo:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:08:44.491 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for mistralai/mistral-small-24b-instruct-2501:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:10:37.968 [WorkerThread1] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for meta-llama/llama-3.1-8b-instruct:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:11:48.760 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-15 00:11:48.761 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-15 00:13:20.469 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-15 00:13:20.472 [MainThread] INFO __main__: Настройка меню команд...
2025-12-15 00:13:21.378 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-15 00:13:21.379 [MainThread] INFO __main__: Запуск long polling...
2025-12-15 00:13:50.357 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for microsoft/phi-3-mini-128k-instruct:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:14:25.177 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 400): {"error":{"message":"anthropic/claude-3-haiku-20240307 is not a valid model ID","code":400},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:16:47.753 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-15 00:16:47.754 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-15 00:16:59.300 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-15 00:16:59.304 [MainThread] INFO __main__: Настройка меню команд...
2025-12-15 00:17:00.215 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-15 00:17:00.216 [MainThread] INFO __main__: Запуск long polling...
2025-12-15 00:17:44.335 [WorkerThread1] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for cognitivecomputations/dolphin-mixtral-8x7b.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:17:53.158 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for huggingfaceh4/zephyr-7b-beta:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:18:00.265 [WorkerThread1] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for gryphe/mythomax-l2-13b:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:18:07.994 [WorkerThread1] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for nousresearch/nous-hermes-2-mixtral-8x7b-dpo:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:18:15.686 [WorkerThread1] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for openchat/openchat-7b:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:18:23.035 [WorkerThread1] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for microsoft/phi-3-mini-128k-instruct:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:18:29.724 [WorkerThread1] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for meta-llama/llama-3-8b-instruct:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:18:53.268 [WorkerThread1] ERROR openrouter_client: Ошибка от OpenRouter API (статус 404): {"error":{"message":"No endpoints found for google/gemma-7b-it:free.","code":404},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-15 00:20:52.583 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-15 00:20:52.583 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-15 00:21:59.750 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-15 00:21:59.755 [MainThread] INFO __main__: Настройка меню команд...
2025-12-15 00:22:00.869 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-15 00:22:00.870 [MainThread] INFO __main__: Запуск long polling...
2025-12-15 00:29:34.780 [WorkerThread1] INFO __main__: Команда /stats от user_id=739293578
2025-12-15 00:33:59.681 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-15 00:33:59.682 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-27 15:07:56.726 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-27 15:07:56.730 [MainThread] INFO __main__: Настройка меню команд...
2025-12-27 15:07:57.624 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-27 15:07:57.625 [MainThread] INFO __main__: Запуск long polling...
2025-12-27 15:11:01.406 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-27 15:11:01.410 [MainThread] INFO __main__: Настройка меню команд...
2025-12-27 15:11:02.321 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-27 15:11:02.322 [MainThread] INFO __main__: Запуск long polling...
2025-12-27 15:13:47.459 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-27 15:13:47.460 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-27 15:18:30.212 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-27 15:18:30.216 [MainThread] INFO __main__: Настройка меню команд...
2025-12-27 15:18:30.994 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-27 15:18:30.995 [MainThread] INFO __main__: Запуск long polling...
2025-12-27 15:20:31.678 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-27 15:20:31.679 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-27 15:27:24.481 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-27 15:27:24.482 [MainThread] INFO __main__: Настройка меню команд...
2025-12-27 15:27:25.224 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-27 15:27:25.224 [MainThread] INFO __main__: Запуск long polling...
2025-12-27 15:28:59.380 [WorkerThread1] ERROR __main__: Ошибка в on_text_message: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 134
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 383, in on_text_message
    bot.reply_to(message, f"{response_text}{add_info}", parse_mode="Markdown")
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 6347, in reply_to
    return self.send_message(message.chat.id, text, reply_parameters=reply_parameters, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1811, in send_message
    apihelper.send_message(
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 282, in send_message
    return _make_request(token, method_url, params=payload, method='post')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 197, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 134
2025-12-27 15:29:46.145 [WorkerThread1] INFO duckduckgo_search.DDGS: Error to search using bing backend: https://www.bing.com/search RuntimeError: error sending request for url (https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F): operation timed out

Caused by:
    operation timed out
2025-12-27 15:29:46.146 [WorkerThread1] ERROR __main__: Ошибка в /ask_web: https://www.bing.com/search RuntimeError: error sending request for url (https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F): operation timed out

Caused by:
    operation timed out
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 142, in cmd_ask_web
    results = list(ddgs.text(query, max_results=3))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 198, in text
    raise DuckDuckGoSearchException(err)
duckduckgo_search.exceptions.DuckDuckGoSearchException: https://www.bing.com/search RuntimeError: error sending request for url (https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F): operation timed out

Caused by:
    operation timed out
2025-12-27 15:32:45.700 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-27 15:32:45.700 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-27 15:41:48.326 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-27 15:41:48.327 [MainThread] INFO __main__: Настройка меню команд...
2025-12-27 15:41:49.048 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-27 15:41:49.048 [MainThread] INFO __main__: Запуск long polling...
2025-12-27 15:42:26.747 [MainThread] ERROR TeleBot: Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)
2025-12-27 15:42:26.752 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 285, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 707, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1249, in recv_into
    return self.read(nbytes, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 690, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

2025-12-27 15:42:32.153 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 429): {"error":{"message":"Provider returned error","code":429,"metadata":{"raw":"mistralai/mistral-7b-instruct:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations","provider_name":"DeepInfra"}},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-27 15:42:32.153 [WorkerThread2] ERROR __main__: Ошибка в on_text_message: Превышены лимиты бесплатной модели. Попробуйте позже.
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 374, in on_text_message
    response_text, ms = chat_once(msgs, model=model_key, temperature=temperature, timeout_s=timeout)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\openrouter_client.py", line 74, in chat_once
    raise OpenRouterError(error_msg, status_code=r.status_code)
openrouter_client.OpenRouterError: Превышены лимиты бесплатной модели. Попробуйте позже.
2025-12-27 15:43:05.046 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 403): {"error":{"message":"Provider returned error","code":403,"metadata":{"raw":"{\n  \"error\": {\n    \"type\": \"forbidden\",\n    \"message\": \"Request not allowed\"\n  }\n}","provider_name":"Anthropic"}},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-27 15:43:05.046 [WorkerThread2] ERROR __main__: Ошибка в on_text_message: Неизвестная ошибка API (код: 403).
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 374, in on_text_message
    response_text, ms = chat_once(msgs, model=model_key, temperature=temperature, timeout_s=timeout)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\openrouter_client.py", line 74, in chat_once
    raise OpenRouterError(error_msg, status_code=r.status_code)
openrouter_client.OpenRouterError: Неизвестная ошибка API (код: 403).
2025-12-27 15:51:26.704 [WorkerThread2] ERROR __main__: Ошибка в /ask_web: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 140, in cmd_ask_web
    bot.send_chat_action(message.chat.id, 'typing')
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 4234, in send_chat_action
    return apihelper.send_chat_action(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 860, in send_chat_action
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-12-27 15:52:20.200 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-12-27 15:52:20.212 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

2025-12-27 15:52:44.466 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-12-27 15:52:44.474 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

2025-12-27 15:52:59.600 [MainThread] ERROR TeleBot: Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/getUpdates?offset=34701466&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000019C96D098B0>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-12-27 15:52:59.609 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 205, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x0000019C96D098B0>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/getUpdates?offset=34701466&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000019C96D098B0>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 677, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/getUpdates?offset=34701466&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000019C96D098B0>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))

2025-12-27 15:53:20.548 [WorkerThread2] INFO primp: response: https://www.bing.com/search?q=%D0%9D%D0%B0%D0%B7%D0%BE%D0%B2%D0%B8+%D1%81%D0%B0%D0%BC%D1%83%D1%8E+%D0%B8%D0%B7%D0%B2%D0%B5%D1%81%D1%82%D0%BD%D1%83%D1%8E+%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D1%83+%D0%9B%D0%B5%D0%BE%D0%BD%D0%B0%D1%80%D0%B4%D0%BE+%D0%B4%D0%B0+%D0%92%D0%B8%D0%BD%D1%87%D0%B8. 200
2025-12-27 15:53:20.577 [WorkerThread2] INFO duckduckgo_search.DDGS: Error to search using bing backend: request or response body error: request or response body error: error reading a body from connection

Caused by:
    0: request or response body error: error reading a body from connection
    1: error reading a body from connection
    2: connection reset
2025-12-27 15:53:20.577 [WorkerThread2] ERROR __main__: Ошибка в /ask_web: request or response body error: request or response body error: error reading a body from connection

Caused by:
    0: request or response body error: error reading a body from connection
    1: error reading a body from connection
    2: connection reset
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 142, in cmd_ask_web
    results = list(ddgs.text(query, max_results=3))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 198, in text
    raise DuckDuckGoSearchException(err)
duckduckgo_search.exceptions.DuckDuckGoSearchException: request or response body error: request or response body error: error reading a body from connection

Caused by:
    0: request or response body error: error reading a body from connection
    1: error reading a body from connection
    2: connection reset
2025-12-27 15:53:20.590 [MainThread] ERROR TeleBot: Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/sendMessage?chat_id=739293578&text=%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%BE%D1%88%D0%BB%D0%B0+%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B0+%D0%BF%D1%80%D0%B8+%D0%BF%D0%BE%D0%B8%D1%81%D0%BA%D0%B5%3A+request+or+response+body+error%3A+request+or+response+body+error%3A+error+reading+a+body+from+connection%0A%0ACaused+by%3A%0A++++0%3A+request+or+response+body+error%3A+error+reading+a+body+from+connection%0A++++1%3A+error+reading+a+body+from+connection%0A++++2%3A+connection+reset&reply_parameters=%7B%22message_id%22%3A+374%7D (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))
2025-12-27 15:53:20.594 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 142, in cmd_ask_web
    results = list(ddgs.text(query, max_results=3))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\duckduckgo_search\duckduckgo_search.py", line 198, in text
    raise DuckDuckGoSearchException(err)
duckduckgo_search.exceptions.DuckDuckGoSearchException: request or response body error: request or response body error: error reading a body from connection

Caused by:
    0: request or response body error: error reading a body from connection
    1: error reading a body from connection
    2: connection reset

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

The above exception was the direct cause of the following exception:

urllib3.exceptions.ProxyError: ('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response'))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/sendMessage?chat_id=739293578&text=%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%BE%D1%88%D0%BB%D0%B0+%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B0+%D0%BF%D1%80%D0%B8+%D0%BF%D0%BE%D0%B8%D1%81%D0%BA%D0%B5%3A+request+or+response+body+error%3A+request+or+response+body+error%3A+error+reading+a+body+from+connection%0A%0ACaused+by%3A%0A++++0%3A+request+or+response+body+error%3A+error+reading+a+body+from+connection%0A++++1%3A+error+reading+a+body+from+connection%0A++++2%3A+connection+reset&reply_parameters=%7B%22message_id%22%3A+374%7D (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 154, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 10134, in _run_middlewares_and_handler
    result = handler['function'](message)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\main.py", line 159, in cmd_ask_web
    bot.reply_to(message, f"Произошла ошибка при поиске: {e}")
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 6347, in reply_to
    return self.send_message(message.chat.id, text, reply_parameters=reply_parameters, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1811, in send_message
    apihelper.send_message(
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 282, in send_message
    return _make_request(token, method_url, params=payload, method='post')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 671, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/sendMessage?chat_id=739293578&text=%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%BE%D1%88%D0%BB%D0%B0+%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B0+%D0%BF%D1%80%D0%B8+%D0%BF%D0%BE%D0%B8%D1%81%D0%BA%D0%B5%3A+request+or+response+body+error%3A+request+or+response+body+error%3A+error+reading+a+body+from+connection%0A%0ACaused+by%3A%0A++++0%3A+request+or+response+body+error%3A+error+reading+a+body+from+connection%0A++++1%3A+error+reading+a+body+from+connection%0A++++2%3A+connection+reset&reply_parameters=%7B%22message_id%22%3A+374%7D (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))

2025-12-27 15:53:24.133 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', ConnectionAbortedError(10053, 'Программа на вашем хост-компьютере разорвала установленное подключение', None, 10053, None))
2025-12-27 15:53:24.141 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
ConnectionAbortedError: [WinError 10053] Программа на вашем хост-компьютере разорвала установленное подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionAbortedError(10053, 'Программа на вашем хост-компьютере разорвала установленное подключение', None, 10053, None))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionAbortedError(10053, 'Программа на вашем хост-компьютере разорвала установленное подключение', None, 10053, None))

2025-12-27 15:53:27.632 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', ConnectionAbortedError(10053, 'Программа на вашем хост-компьютере разорвала установленное подключение', None, 10053, None))
2025-12-27 15:53:27.642 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
ConnectionAbortedError: [WinError 10053] Программа на вашем хост-компьютере разорвала установленное подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionAbortedError(10053, 'Программа на вашем хост-компьютере разорвала установленное подключение', None, 10053, None))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionAbortedError(10053, 'Программа на вашем хост-компьютере разорвала установленное подключение', None, 10053, None))

2025-12-27 15:53:31.337 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', ConnectionAbortedError(10053, 'Программа на вашем хост-компьютере разорвала установленное подключение', None, 10053, None))
2025-12-27 15:53:31.344 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
ConnectionAbortedError: [WinError 10053] Программа на вашем хост-компьютере разорвала установленное подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionAbortedError(10053, 'Программа на вашем хост-компьютере разорвала установленное подключение', None, 10053, None))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionAbortedError(10053, 'Программа на вашем хост-компьютере разорвала установленное подключение', None, 10053, None))

2025-12-27 15:54:21.777 [MainThread] ERROR TeleBot: Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)
2025-12-27 15:54:21.777 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 285, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 707, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1249, in recv_into
    return self.read(nbytes, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1105, in read
    return self._sslobj.read(len, buffer)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 690, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=25)

2025-12-27 15:54:32.449 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))
2025-12-27 15:54:32.463 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))

2025-12-27 15:54:41.197 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))
2025-12-27 15:54:41.201 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))

2025-12-27 15:54:51.448 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))
2025-12-27 15:54:51.448 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))

2025-12-27 15:54:56.157 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))
2025-12-27 15:54:56.179 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1046, in _create
    self.do_handshake()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\ssl.py", line 1317, in do_handshake
    self._sslobj.do_handshake()
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))

2025-12-27 15:55:20.226 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-12-27 15:55:20.231 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

2025-12-27 15:55:35.311 [MainThread] ERROR TeleBot: Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/getUpdates?offset=34701467&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000019C96DA5760>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-12-27 15:55:35.315 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\connection.py", line 60, in create_connection
    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 205, in _new_conn
    raise NameResolutionError(self.host, self, e) from e
urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x0000019C96DA5760>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/getUpdates?offset=34701467&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000019C96DA5760>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 677, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/getUpdates?offset=34701467&timeout=20 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000019C96DA5760>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))

2025-12-27 15:57:02.810 [MainThread] ERROR TeleBot: Infinity polling exception: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/getUpdates?offset=34701467&timeout=20 (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))
2025-12-27 15:57:02.820 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

The above exception was the direct cause of the following exception:

urllib3.exceptions.ProxyError: ('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response'))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/getUpdates?offset=34701467&timeout=20 (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 671, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8417941208:***********************************/getUpdates?offset=34701467&timeout=20 (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))

2025-12-27 16:00:17.943 [MainThread] ERROR TeleBot: Infinity polling exception: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-12-27 16:00:17.951 [MainThread] ERROR TeleBot: Exception traceback:
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1411, in getresponse
    response.begin()
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 324, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilya\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 293, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1110, in infinity_polling
    self.polling(non_stop=True, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 115, in raise_exceptions
    raise self.exception_info
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\util.py", line 97, in run
    task(*args, **kwargs)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 339, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\requests\adapters.py", line 659, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

2025-12-27 16:01:42.769 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-27 16:01:42.770 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-27 16:29:41.004 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-27 16:29:41.004 [MainThread] INFO __main__: Настройка меню команд...
2025-12-27 16:29:41.760 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-27 16:29:41.761 [MainThread] INFO __main__: Запуск long polling...
2025-12-27 16:29:44.693 [WorkerThread1] INFO primp: response: https://www.bing.com/search?q=%D0%9D%D0%B0%D0%B7%D0%BE%D0%B2%D0%B8+%D1%81%D0%B0%D0%BC%D1%83%D1%8E+%D0%B8%D0%B7%D0%B2%D0%B5%D1%81%D1%82%D0%BD%D1%83%D1%8E+%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D1%83+%D0%9B%D0%B5%D0%BE%D0%BD%D0%B0%D1%80%D0%B4%D0%BE+%D0%B4%D0%B0+%D0%92%D0%B8%D0%BD%D1%87%D0%B8. 200
2025-12-27 16:31:29.349 [WorkerThread2] ERROR openrouter_client: Ошибка от OpenRouter API (статус 429): {"error":{"message":"Provider returned error","code":429,"metadata":{"raw":"mistralai/mistral-7b-instruct:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations","provider_name":"DeepInfra"}},"user_id":"user_34EC32pfA03Drz5uOHROVsC4aeL"}
2025-12-27 16:31:29.350 [WorkerThread2] ERROR __main__: Ошибка в on_text_message: Превышены лимиты бесплатной модели. Попробуйте позже.
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 374, in on_text_message
    response_text, ms = chat_once(msgs, model=model_key, temperature=temperature, timeout_s=timeout)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\openrouter_client.py", line 74, in chat_once
    raise OpenRouterError(error_msg, status_code=r.status_code)
openrouter_client.OpenRouterError: Превышены лимиты бесплатной модели. Попробуйте позже.
2025-12-27 16:34:54.839 [WorkerThread1] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F 200
2025-12-27 16:35:15.370 [WorkerThread2] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F 200
2025-12-27 16:36:55.189 [WorkerThread1] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F 200
2025-12-27 16:46:26.819 [WorkerThread2] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F 200
2025-12-27 16:46:57.091 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-27 16:46:57.091 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-27 16:46:58.841 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-27 16:46:58.843 [MainThread] INFO __main__: Настройка меню команд...
2025-12-27 16:46:59.498 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-27 16:46:59.498 [MainThread] INFO __main__: Запуск long polling...
2025-12-27 16:47:06.162 [WorkerThread1] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F 200
2025-12-27 16:51:09.496 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-27 16:51:09.496 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-27 16:51:21.408 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-27 16:51:21.409 [MainThread] INFO __main__: Настройка меню команд...
2025-12-27 16:51:22.088 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-27 16:51:22.088 [MainThread] INFO __main__: Запуск long polling...
2025-12-27 16:51:31.319 [WorkerThread2] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F 200
2025-12-27 16:54:08.994 [MainThread] ERROR TeleBot: Infinity polling: polling exited
2025-12-27 16:54:08.994 [MainThread] ERROR TeleBot: Break infinity polling
2025-12-27 16:54:36.344 [MainThread] INFO __main__: Старт приложения (инициализация бота)
2025-12-27 16:54:36.345 [MainThread] INFO __main__: Настройка меню команд...
2025-12-27 16:54:38.791 [MainThread] INFO __main__: Меню команд успешно настроено.
2025-12-27 16:54:38.791 [MainThread] INFO __main__: Запуск long polling...
2025-12-27 16:54:51.960 [WorkerThread1] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F 200
2025-12-27 16:55:28.584 [WorkerThread2] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%B0%D1%8F+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%B4%D0%B0%D1%82%D0%B0+%D0%B8+%D0%B4%D0%B5%D0%BD%D1%8C+%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D0%B8%3F 200
2025-12-27 16:55:58.586 [WorkerThread2] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D1%82%D0%BE+%D0%BD%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BB+%D0%BA%D0%BD%D0%B8%D0%B3%D1%83+%22%D0%94%D1%8E%D0%BD%D0%B0%22%3F 200
2025-12-27 16:56:25.552 [WorkerThread1] INFO primp: response: https://www.bing.com/search?q=%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%BA%D1%83%D1%80%D1%81+%D0%B4%D0%BE%D0%BB%D0%BB%D0%B0%D1%80%D0%B0%3F 200
2025-12-27 16:56:27.941 [WorkerThread1] ERROR __main__: Ошибка в /ask_web: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: message text is empty
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 167, in cmd_ask_web
    bot.reply_to(message, response_text)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 6347, in reply_to
    return self.send_message(message.chat.id, text, reply_parameters=reply_parameters, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1811, in send_message
    apihelper.send_message(
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 282, in send_message
    return _make_request(token, method_url, params=payload, method='post')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 197, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: message text is empty
2025-12-27 16:57:38.154 [WorkerThread2] INFO primp: response: https://www.bing.com/search?q=%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%BA%D1%83%D1%80%D1%81+%D0%B4%D0%BE%D0%BB%D0%BB%D0%B0%D1%80%D0%B0%3F 200
2025-12-27 16:58:34.867 [WorkerThread1] ERROR __main__: Ошибка в on_text_message: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 452
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 395, in on_text_message
    bot.reply_to(message, f"{response_text}{add_info}", parse_mode="Markdown")
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 6347, in reply_to
    return self.send_message(message.chat.id, text, reply_parameters=reply_parameters, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1811, in send_message
    apihelper.send_message(
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 282, in send_message
    return _make_request(token, method_url, params=payload, method='post')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 197, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 452
2025-12-27 17:02:01.767 [WorkerThread1] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D0%B0%D0%BA%D0%BE%D0%B9+%D0%B4%D0%B8%D0%B0%D0%BC%D0%B5%D1%82%D1%80+%D1%83+%D0%BF%D0%BB%D0%B0%D0%BD%D0%B5%D1%82%D1%8B+%D0%9C%D0%B0%D1%80%D1%81%3F 200
2025-12-27 17:04:38.526 [WorkerThread1] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D1%82%D0%BE+%D0%BD%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BB+%D0%BA%D0%BD%D0%B8%D0%B3%D1%83+%22%D0%94%D1%8E%D0%BD%D0%B0%22%3F 200
2025-12-27 17:05:41.908 [WorkerThread2] INFO primp: response: https://www.bing.com/search?q=%D0%9A%D1%82%D0%BE+%D0%BD%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BB+%D0%BA%D0%BD%D0%B8%D0%B3%D1%83+%22%D0%94%D1%8E%D0%BD%D0%B0%22%3F 200
2025-12-27 17:05:49.117 [WorkerThread2] ERROR __main__: Ошибка в /ask_web: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: message text is empty
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 167, in cmd_ask_web
    bot.reply_to(message, response_text)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 6347, in reply_to
    return self.send_message(message.chat.id, text, reply_parameters=reply_parameters, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1811, in send_message
    apihelper.send_message(
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 282, in send_message
    return _make_request(token, method_url, params=payload, method='post')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 197, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: message text is empty
2025-12-27 17:06:08.525 [WorkerThread2] INFO primp: response: https://www.bing.com/search?q=%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9+%D1%81%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F+%D0%BA%D1%83%D1%80%D1%81+%D0%B4%D0%BE%D0%BB%D0%BB%D0%B0%D1%80%D0%B0%3F 200
2025-12-27 17:06:10.853 [WorkerThread2] ERROR __main__: Ошибка в /ask_web: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: message text is empty
Traceback (most recent call last):
  File "D:\Projects\TgBot\pythonProject1\main.py", line 167, in cmd_ask_web
    bot.reply_to(message, response_text)
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 6347, in reply_to
    return self.send_message(message.chat.id, text, reply_parameters=reply_parameters, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\__init__.py", line 1811, in send_message
    apihelper.send_message(
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 282, in send_message
    return _make_request(token, method_url, params=payload, method='post')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\TgBot\pythonProject1\.venv\Lib\site-packages\telebot\apihelper.py", line 197, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 400. Description: Bad Request: message text is empty
